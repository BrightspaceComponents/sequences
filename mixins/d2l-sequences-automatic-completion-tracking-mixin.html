<link rel="import" href="d2l-sequences-completion-tracking-mixin.html">
<script>
	(function() {
		function AutomaticCompletionTrackingMixin() {
			return class extends D2L.Polymer.Mixins.Sequences.CompletionTrackingMixin() {

				static get observers() {
					return ['_entityUpdated(entity)'];
				}

				disconnectedCallback() {
					super.disconnectedCallback();
					this.finishCompletion();
				}

				_entityUpdated() {
					this.finishCompletion();
					this.startCompletion();
				}
			};
		}

		window.D2L = window.D2L || {};
		window.D2L.Polymer = window.D2L.Polymer || {};
		window.D2L.Polymer.Mixins = window.D2L.Polymer.Mixins || {};
		window.D2L.Polymer.Mixins.Sequences = window.D2L.Polymer.Mixins.Sequences || {};
		window.D2L.Polymer.Mixins.Sequences.AutomaticCompletionTrackingMixin = AutomaticCompletionTrackingMixin;
	})();
</script>
